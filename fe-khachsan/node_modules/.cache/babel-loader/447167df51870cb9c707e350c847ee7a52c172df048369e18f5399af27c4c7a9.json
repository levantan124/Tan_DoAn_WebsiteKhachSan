{"ast":null,"code":"import axios from \"axios\";\nimport moment from \"moment\";\nimport cookie from \"react-cookies\";\nexport const BASE_URL = 'http://127.0.0.1:8000/';\nexport const formatNS = dateString => {\n  const [year, month, day] = dateString.split('-');\n  return `${day}/${month}/${year}`;\n};\nexport const formatDate = date => {\n  return moment(date).format(' HH:mm - DD/MM/YYYY');\n};\nexport const endpoints = {\n  'login': '/o/token/',\n  'current_user': '/accounts/current-user/',\n  'ac': '/accounts/',\n  'rt': '/roomtypes/',\n  'r': '/rooms/',\n  'rp': id => `/room-images/${id}/`\n\n  // 'signup': '/accounts/',\n  // 'list_reservations' : '/reservations/',\n  // 'deactivate_reservation': (id) => `/reservations/${id}/deactivate/`, // Thêm hàm cho deactivate với tham số id\n  // 'update_reservation': (id) => `/reservations/${id}/`, // Update reservation endpoint\n  // 'roomtypes': '/roomtypes/',\n  // 'reservation_service' : '/reservation_services/',\n  // 'services_of_reservation': (id) => `/reservations/${id}/services/`,\n  // 'services' : '/services/',\n  // 'deactive_service': (id) => `/reservation_services/${id}/`, \n  // 'bills' : '/bills/'\n};\n\n// Hàm tạo instance axios với Authorization header\nexport const authAPI = () => {\n  const token = cookie.load('token');\n  return axios.create({\n    baseURL: BASE_URL,\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      \"Content-Type\": `Application/json`\n    }\n  });\n};\n\n// Hàm tạo instance axios không có Authorization header\nexport const api = axios.create({\n  baseURL: BASE_URL\n});\n\n// // Hàm gửi yêu cầu đặt phòng\n// export const createReservation = async (reservationData) => {\n//     try {\n//         // console.log(reservationData);\n//         const response = await authAPI().post(endpoints.reservations, reservationData);\n//         return response; // Return the entire response object\n//     } catch (error) {\n//         console.error('Failed to create reservation:', error);\n//         throw error; \n//     }\n// };\n\nexport default api;","map":{"version":3,"names":["axios","moment","cookie","BASE_URL","formatNS","dateString","year","month","day","split","formatDate","date","format","endpoints","id","authAPI","token","load","create","baseURL","headers","api"],"sources":["E:/Tan_DoAn_WebsiteKhachSan/fe-khachsan/src/configs391/API391.js"],"sourcesContent":["import axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport cookie from \"react-cookies\";\r\n\r\nexport const BASE_URL = 'http://127.0.0.1:8000/';\r\n\r\nexport const formatNS = (dateString) => {\r\n    const [year, month, day] = dateString.split('-');\r\n    return `${day}/${month}/${year}`;\r\n};\r\n\r\nexport const formatDate = (date) => {\r\n    return moment(date).format(' HH:mm - DD/MM/YYYY');\r\n};\r\n\r\nexport const endpoints = {\r\n    'login': '/o/token/',\r\n    'current_user': '/accounts/current-user/',\r\n    'ac': '/accounts/',\r\n    'rt': '/roomtypes/',\r\n    'r': '/rooms/',\r\n    'rp': (id) => `/room-images/${id}/`\r\n\r\n\r\n    // 'signup': '/accounts/',\r\n    // 'list_reservations' : '/reservations/',\r\n    // 'deactivate_reservation': (id) => `/reservations/${id}/deactivate/`, // Thêm hàm cho deactivate với tham số id\r\n    // 'update_reservation': (id) => `/reservations/${id}/`, // Update reservation endpoint\r\n    // 'roomtypes': '/roomtypes/',\r\n    // 'reservation_service' : '/reservation_services/',\r\n    // 'services_of_reservation': (id) => `/reservations/${id}/services/`,\r\n    // 'services' : '/services/',\r\n    // 'deactive_service': (id) => `/reservation_services/${id}/`, \r\n    // 'bills' : '/bills/'\r\n\r\n};\r\n\r\n\r\n// Hàm tạo instance axios với Authorization header\r\nexport const authAPI = () => {\r\n    const token = cookie.load('token');\r\n    return axios.create({\r\n        baseURL: BASE_URL,\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            \"Content-Type\": `Application/json`\r\n        }\r\n    });\r\n};\r\n\r\n// Hàm tạo instance axios không có Authorization header\r\nexport const  api = axios.create({\r\n    baseURL: BASE_URL\r\n});\r\n\r\n// // Hàm gửi yêu cầu đặt phòng\r\n// export const createReservation = async (reservationData) => {\r\n//     try {\r\n//         // console.log(reservationData);\r\n//         const response = await authAPI().post(endpoints.reservations, reservationData);\r\n//         return response; // Return the entire response object\r\n//     } catch (error) {\r\n//         console.error('Failed to create reservation:', error);\r\n//         throw error; \r\n//     }\r\n// };\r\n\r\n\r\nexport default api;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,QAAQ;AAC3B,OAAOC,MAAM,MAAM,eAAe;AAElC,OAAO,MAAMC,QAAQ,GAAG,wBAAwB;AAEhD,OAAO,MAAMC,QAAQ,GAAIC,UAAU,IAAK;EACpC,MAAM,CAACC,IAAI,EAAEC,KAAK,EAAEC,GAAG,CAAC,GAAGH,UAAU,CAACI,KAAK,CAAC,GAAG,CAAC;EAChD,OAAO,GAAGD,GAAG,IAAID,KAAK,IAAID,IAAI,EAAE;AACpC,CAAC;AAED,OAAO,MAAMI,UAAU,GAAIC,IAAI,IAAK;EAChC,OAAOV,MAAM,CAACU,IAAI,CAAC,CAACC,MAAM,CAAC,qBAAqB,CAAC;AACrD,CAAC;AAED,OAAO,MAAMC,SAAS,GAAG;EACrB,OAAO,EAAE,WAAW;EACpB,cAAc,EAAE,yBAAyB;EACzC,IAAI,EAAE,YAAY;EAClB,IAAI,EAAE,aAAa;EACnB,GAAG,EAAE,SAAS;EACd,IAAI,EAAGC,EAAE,IAAK,gBAAgBA,EAAE;;EAGhC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAEJ,CAAC;;AAGD;AACA,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EACzB,MAAMC,KAAK,GAAGd,MAAM,CAACe,IAAI,CAAC,OAAO,CAAC;EAClC,OAAOjB,KAAK,CAACkB,MAAM,CAAC;IAChBC,OAAO,EAAEhB,QAAQ;IACjBiB,OAAO,EAAE;MACL,eAAe,EAAE,UAAUJ,KAAK,EAAE;MAClC,cAAc,EAAE;IACpB;EACJ,CAAC,CAAC;AACN,CAAC;;AAED;AACA,OAAO,MAAOK,GAAG,GAAGrB,KAAK,CAACkB,MAAM,CAAC;EAC7BC,OAAO,EAAEhB;AACb,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,eAAekB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}