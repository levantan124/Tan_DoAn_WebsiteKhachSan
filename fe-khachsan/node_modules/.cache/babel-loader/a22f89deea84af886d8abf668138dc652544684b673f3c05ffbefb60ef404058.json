{"ast":null,"code":"var _jsxFileName = \"E:\\\\Tan_DoAn_WebsiteKhachSan\\\\fe-khachsan\\\\src\\\\components\\\\Main391\\\\roomdetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { css } from '@emotion/react';\nimport { Button, Spinner, Alert } from 'react-bootstrap';\nimport { useCookies } from 'react-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RoomDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [room, setRoom] = useState(null);\n  const [checkInDate, setCheckInDate] = useState('');\n  const [checkOutDate, setCheckOutDate] = useState('');\n  const [numberOfNights, setNumberOfNights] = useState(1);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [cookies] = useCookies(['authToken']);\n  useEffect(() => {\n    const fetchRoomDetails = async () => {\n      try {\n        const response = await axios.get(`/rooms/${id}/`);\n        setRoom(response.data);\n        setLoading(false);\n      } catch (err) {\n        setError('Failed to fetch room details.');\n        setLoading(false);\n      }\n    };\n    fetchRoomDetails();\n  }, [id]);\n  useEffect(() => {\n    if (checkInDate && numberOfNights) {\n      const checkOutDate = new Date(checkInDate);\n      checkOutDate.setDate(checkOutDate.getDate() + numberOfNights);\n      setCheckOutDate(checkOutDate.toISOString().split('T')[0]);\n    }\n  }, [checkInDate, numberOfNights]);\n  const handleBookRoom = async () => {\n    try {\n      await axios.post('/reservations/', {\n        room: id,\n        book_date: new Date().toISOString().split('T')[0],\n        // Ngày đặt phòng\n        checkin: checkInDate,\n        // Ngày nhận phòng\n        checkout: checkOutDate,\n        // Ngày trả phòng\n        number_of_nights: numberOfNights // Số đêm\n      }, {\n        headers: {\n          Authorization: `Bearer ${cookies.authToken}`\n        }\n      });\n      alert('Room booked successfully.');\n    } catch (err) {\n      setError('Failed to book room.');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(Spinner, {\n    animation: \"border\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(Alert, {\n    variant: \"danger\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    css: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      css: styles.title,\n      children: room.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      css: styles.description,\n      children: room.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      css: styles.formGroup,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        css: styles.label,\n        children: \"Check-in Date:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: checkInDate,\n        onChange: e => setCheckInDate(e.target.value),\n        css: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      css: styles.formGroup,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        css: styles.label,\n        children: \"Number of Nights:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        min: \"1\",\n        value: numberOfNights,\n        onChange: e => setNumberOfNights(parseInt(e.target.value, 10)),\n        css: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      css: styles.formGroup,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        css: styles.label,\n        children: \"Check-out Date:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: checkOutDate,\n        disabled: true,\n        css: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleBookRoom,\n      css: styles.button,\n      children: \"Book Room\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(RoomDetails, \"CChfgUIZTpabDQlHruVaWcLGlOU=\", false, function () {\n  return [useParams, useCookies];\n});\n_c = RoomDetails;\nconst styles = {\n  container: css`\n    padding: 20px;\n    max-width: 600px;\n    margin: auto;\n  `,\n  title: css`\n    font-size: 24px;\n    margin-bottom: 10px;\n  `,\n  description: css`\n    font-size: 16px;\n    margin-bottom: 20px;\n  `,\n  formGroup: css`\n    margin-bottom: 15px;\n  `,\n  label: css`\n    display: block;\n    margin-bottom: 5px;\n  `,\n  input: css`\n    width: 100%;\n    padding: 8px;\n    font-size: 14px;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n  `,\n  button: css`\n    background: #007bff;\n    color: white;\n    border: none;\n    padding: 10px 20px;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: background 0.3s ease;\n    &:hover {\n      background: #0056b3;\n    }\n  `\n};\nexport default RoomDetails;\nvar _c;\n$RefreshReg$(_c, \"RoomDetails\");","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","css","Button","Spinner","Alert","useCookies","jsxDEV","_jsxDEV","RoomDetails","_s","id","room","setRoom","checkInDate","setCheckInDate","checkOutDate","setCheckOutDate","numberOfNights","setNumberOfNights","error","setError","loading","setLoading","cookies","fetchRoomDetails","response","get","data","err","Date","setDate","getDate","toISOString","split","handleBookRoom","post","book_date","checkin","checkout","number_of_nights","headers","Authorization","authToken","alert","animation","fileName","_jsxFileName","lineNumber","columnNumber","variant","children","styles","container","title","name","description","formGroup","label","type","value","onChange","e","target","input","min","parseInt","disabled","onClick","button","_c","$RefreshReg$"],"sources":["E:/Tan_DoAn_WebsiteKhachSan/fe-khachsan/src/components/Main391/roomdetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { css } from '@emotion/react';\r\nimport { Button, Spinner, Alert } from 'react-bootstrap';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nconst RoomDetails = () => {\r\n  const { id } = useParams();\r\n  const [room, setRoom] = useState(null);\r\n  const [checkInDate, setCheckInDate] = useState('');\r\n  const [checkOutDate, setCheckOutDate] = useState('');\r\n  const [numberOfNights, setNumberOfNights] = useState(1);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [cookies] = useCookies(['authToken']);\r\n\r\n  useEffect(() => {\r\n    const fetchRoomDetails = async () => {\r\n      try {\r\n        const response = await axios.get(`/rooms/${id}/`);\r\n        setRoom(response.data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError('Failed to fetch room details.');\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchRoomDetails();\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (checkInDate && numberOfNights) {\r\n      const checkOutDate = new Date(checkInDate);\r\n      checkOutDate.setDate(checkOutDate.getDate() + numberOfNights);\r\n      setCheckOutDate(checkOutDate.toISOString().split('T')[0]);\r\n    }\r\n  }, [checkInDate, numberOfNights]);\r\n\r\n  const handleBookRoom = async () => {\r\n    try {\r\n      await axios.post('/reservations/', {\r\n        room: id,\r\n        book_date: new Date().toISOString().split('T')[0], // Ngày đặt phòng\r\n        checkin: checkInDate, // Ngày nhận phòng\r\n        checkout: checkOutDate, // Ngày trả phòng\r\n        number_of_nights: numberOfNights // Số đêm\r\n      }, {\r\n        headers: {\r\n          Authorization: `Bearer ${cookies.authToken}`\r\n        }\r\n      });\r\n      alert('Room booked successfully.');\r\n    } catch (err) {\r\n      setError('Failed to book room.');\r\n    }\r\n  };\r\n\r\n  if (loading) return <Spinner animation=\"border\" />;\r\n  if (error) return <Alert variant=\"danger\">{error}</Alert>;\r\n\r\n  return (\r\n    <div css={styles.container}>\r\n      <h2 css={styles.title}>{room.name}</h2>\r\n      <p css={styles.description}>{room.description}</p>\r\n      <div css={styles.formGroup}>\r\n        <label css={styles.label}>Check-in Date:</label>\r\n        <input\r\n          type=\"date\"\r\n          value={checkInDate}\r\n          onChange={(e) => setCheckInDate(e.target.value)}\r\n          css={styles.input}\r\n        />\r\n      </div>\r\n      <div css={styles.formGroup}>\r\n        <label css={styles.label}>Number of Nights:</label>\r\n        <input\r\n          type=\"number\"\r\n          min=\"1\"\r\n          value={numberOfNights}\r\n          onChange={(e) => setNumberOfNights(parseInt(e.target.value, 10))}\r\n          css={styles.input}\r\n        />\r\n      </div>\r\n      <div css={styles.formGroup}>\r\n        <label css={styles.label}>Check-out Date:</label>\r\n        <input\r\n          type=\"date\"\r\n          value={checkOutDate}\r\n          disabled\r\n          css={styles.input}\r\n        />\r\n      </div>\r\n      <Button onClick={handleBookRoom} css={styles.button}>\r\n        Book Room\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: css`\r\n    padding: 20px;\r\n    max-width: 600px;\r\n    margin: auto;\r\n  `,\r\n  title: css`\r\n    font-size: 24px;\r\n    margin-bottom: 10px;\r\n  `,\r\n  description: css`\r\n    font-size: 16px;\r\n    margin-bottom: 20px;\r\n  `,\r\n  formGroup: css`\r\n    margin-bottom: 15px;\r\n  `,\r\n  label: css`\r\n    display: block;\r\n    margin-bottom: 5px;\r\n  `,\r\n  input: css`\r\n    width: 100%;\r\n    padding: 8px;\r\n    font-size: 14px;\r\n    border-radius: 4px;\r\n    border: 1px solid #ccc;\r\n  `,\r\n  button: css`\r\n    background: #007bff;\r\n    color: white;\r\n    border: none;\r\n    padding: 10px 20px;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    transition: background 0.3s ease;\r\n    &:hover {\r\n      background: #0056b3;\r\n    }\r\n  `\r\n};\r\n\r\nexport default RoomDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}